{"ast":null,"code":"var _jsxFileName = \"/Users/kylelitton/Code/listen-together/client/src/components/Home.js\";\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { authEndpoint, clientId, redirectUri, scopes } from \"../config\";\nimport { addToken, setUsername } from \"../actions/userAction\";\nimport '../App.css';\n\nvar Spotify = require('spotify-web-api-js');\n\nvar s = new Spotify();\n\nconst mapDispatchToProps = dispatch => ({\n  addToken: token => dispatch(addToken(token)),\n  setUsername: name => dispatch(setUsername(name))\n});\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token,\n    username: state.username\n  };\n};\n\nclass Home extends Component {\n  componentDidMount() {\n    let hashParams = {};\n    let e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    if (hashParams.access_token) {\n      this.props.addToken(hashParams.access_token);\n      s.setAccessToken(this.props.token);\n      this.getUsername();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.token) {}\n  }\n\n  getUsername() {\n    s.getMe().then(function (data) {\n      console.log('Some information about the authenticated user', data.body);\n    }, function (err) {\n      console.log('Something went wrong!', err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, !this.props.token && /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn--loginApp-link\",\n      href: `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"Login to Spotify\"), this.props.token && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"Hello: \", this.props.username), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"Create a Group\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Create a new group that friends can join.\"), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Join a Group\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Join a group that already exists.\"))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/kylelitton/Code/listen-together/client/src/components/Home.js"],"names":["React","Component","connect","authEndpoint","clientId","redirectUri","scopes","addToken","setUsername","Spotify","require","s","mapDispatchToProps","dispatch","token","name","mapStateToProps","state","username","Home","componentDidMount","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","access_token","props","setAccessToken","getUsername","componentWillReceiveProps","nextProps","getMe","then","data","console","log","body","err","render","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { authEndpoint, clientId, redirectUri, scopes } from \"../config\";\nimport { addToken, setUsername } from \"../actions/userAction\"\nimport '../App.css';\n\nvar Spotify = require('spotify-web-api-js');\nvar s = new Spotify();\n\nconst mapDispatchToProps = dispatch => ({\n    addToken: (token) => dispatch(addToken(token)),\n    setUsername: (name) => dispatch(setUsername(name)),\n})\n\nconst mapStateToProps = state => {\n    return {\n      token: state.token,\n      username: state.username\n    };\n  };\n  \n  \nclass Home extends Component {\n\n  componentDidMount() {\n    let hashParams = {};\n    let e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    if (hashParams.access_token) {\n      this.props.addToken(hashParams.access_token);\n      s.setAccessToken(this.props.token);\n      this.getUsername();\n    } \n  }\n\n  componentWillReceiveProps(nextProps) {\n\n    if(nextProps.token)\n    {\n      \n    }\n\n  }\n  \n  getUsername(){\n    s.getMe()\n    .then(function(data) {\n      console.log('Some information about the authenticated user', data.body);\n    }, function(err) {\n      console.log('Something went wrong!', err);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {!this.props.token && (\n            <a\n              className=\"btn btn--loginApp-link\"\n              href={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n                \"%20\"\n              )}&response_type=token&show_dialog=true`}\n            >\n              Login to Spotify\n            </a>\n          )}\n          {this.props.token && (\n            <div>\n                <h1>Hello: {this.props.username}</h1>\n                <button>Create a Group</button>\n                <p>Create a new group that friends can join.</p>\n                <button>Join a Group</button>\n                <p>Join a group that already exists.</p>\n            </div>\n          )}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}