{"map":{"version":3,"sources":["static/js/main.c30a5c15.chunk.js"],"names":["this","push","18","module","exports","__webpack_require__","p","19","23","37","39","48","49","50","51","52","89","90","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","es","redux","redux_thunk_es","objectSpread2","rootReducer","Object","userReducer","state","arguments","length","undefined","action","type","token","payload","username","group","isOwner","ownerToken","uiReducer","isLoaded","react_router_dom","react_router","classCallCheck","createClass","inherits","createSuper","clientId","authEndpoint","redirectUri","scopes","addToken","Token","dispatch","setUsername","Username","setGroup","Group","setIsOwner","val","setOwnerToken","logo","logo_default","jquery","jquery_default","Home_Home","_Component","Home","_super","apply","key","value","e","hashParams","q","window","location","hash","substring","exec","decodeURIComponent","access_token","props","_this","a","ajax","url","beforeSend","xhr","setRequestHeader","success","data","display_name","console","log","history","createElement","className","src","alt","href","concat","join","getUsername","onClick","createGroup","bind","joinGroup","components_Home","lib","CreateGroup_CreateGroup","CreateGroup","_len","args","Array","_key","call","intervalIsSet","getDataFromDb","fetch","then","json","res","setState","handleGroup","map","groupName","includes","title","message","buttons","label","find","x","JSON","stringify","ownerName","contentType","error","handleInput","event","target","interval","setInterval","clearInterval","placeholder","onChange","components_CreateGroup","hasLoaded","topLeft","topLeft_default","topRight","topRight_default","devices","devices_default","components_Player","backgroundStyles","backgroundImage","item","album","images","uri","style","react_spotify_web_playback_lib","react_spotify_web_playback_lib_default","Group_Group","name","artists","duration_ms","userUri","ownerPlaying","sync","position","_this2","curGroup","element","getCurrentlyPlaying","onbeforeunload","onUnload","getURI","SyncSongs","_this3","_this4","uris","position_ms","_this5","_this6","newSong","progress_ms","styles","loaderColor","sliderColor","autoPlay","play","showSaveIcon","components_Group","router_AppRouter","basename","path","component","exact","src_App","Boolean","hostname","match","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"CAACA,KAAK,+BAAiCA,KAAK,gCAAkC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEtFC,GACA,SAAUC,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoBC,EAAI,qCAInCC,GACA,SAAUJ,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoBC,EAAI,sCAInCE,GACA,SAAUL,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoBC,EAAI,kCAInCG,GACA,SAAUN,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoBC,EAAI,qCAInCI,GACA,SAAUP,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoB,KAK/BM,GACA,SAAUR,EAAQC,EAASC,KAM3BO,GACA,SAAUT,EAAQC,EAASC,KAM3BQ,GACA,SAAUV,EAAQC,EAASC,KAM3BS,GACA,SAAUX,EAAQC,EAASC,KAM3BU,GACA,SAAUZ,EAAQC,EAASC,KAM3BW,GACA,SAAUb,EAAQC,EAASC,KAM3BY,GACA,SAAUd,EAAQe,EAAqBb,GAE7C,aAEAA,EAAoBc,EAAED,GAGtB,IAAIE,EAAQf,EAAoB,GAC5BgB,EAA6BhB,EAAoBiB,EAAEF,GAGnDG,EAAYlB,EAAoB,IAChCmB,EAAiCnB,EAAoBiB,EAAEC,GAGvDE,EAAKpB,EAAoB,IAGzBqB,EAAQrB,EAAoB,GAG5BsB,EAAiBtB,EAAoB,IAGrCuB,EAAgBvB,EAAoB,GAOPwB,EAAeC,OAAOJ,EAA+B,EAAvC,CAA0C,CAACK,YAJ3C,WAAY,IAAIC,EAAMC,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,GAAOG,EAAOH,UAAUC,OAAO,EAAED,UAAU,QAAGE,EAAU,OAAOC,EAAOC,MAAM,IAAI,YAAY,OAAOP,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACM,MAAMF,EAAOG,UAAU,IAAI,eAAe,OAAOT,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACQ,SAASJ,EAAOG,UAAU,IAAI,YAAY,OAAOT,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACS,MAAML,EAAOG,UAAU,IAAI,cAAc,OAAOT,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACU,QAAQN,EAAOG,UAAU,IAAI,iBAAiB,OAAOT,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACW,WAAWP,EAAOG,UAAU,QAAQ,OAAOP,IAIl0BY,UAFrE,WAAY,IAAIZ,EAAMC,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,CAACY,UAAS,GAAWT,EAAOH,UAAUC,OAAO,EAAED,UAAU,QAAGE,EAAU,OAAOC,EAAOC,MAAM,IAAI,aAAa,OAAOP,OAAOF,EAA+B,EAAtCE,CAAyCA,OAAOF,EAA+B,EAAtCE,CAAyC,GAAGE,GAAO,GAAG,CAACa,SAAST,EAAOG,UAAU,QAAQ,OAAOP,MAM9W3B,EAAoB,IAA9B,IAGIyC,EAAmBzC,EAAoB,IAGvC0C,EAAe1C,EAAoB,GAGnC2C,EAAiB3C,EAAoB,IAGrC4C,EAAc5C,EAAoB,IAGlC6C,EAAW7C,EAAoB,IAG/B8C,EAAc9C,EAAoB,IAGlC+C,EAAS,mCAAuCC,EAAa,yCAA6CC,EAAY,2CAA+CC,EAAO,CAAC,YAAY,kBAAkB,oBAAoB,oBAAoB,sBAAsB,2BAA2B,6BAA6B,qBAAqB,6BAA6B,8BAA8B,4BAEjZC,EAAS,SAAkBC,GAAO,OAAO,SAASC,GAAUA,EAAS,CAACrB,KAAK,YAAYE,QAAQkB,MAAgBE,EAAY,SAAqBC,GAAU,OAAO,SAASF,GAAUA,EAAS,CAACrB,KAAK,eAAeE,QAAQqB,MAAmBC,EAAS,SAAkBC,GAAO,OAAO,SAASJ,GAAUA,EAAS,CAACrB,KAAK,YAAYE,QAAQuB,MAAgBC,EAAW,SAAoBC,GAAK,OAAO,SAASN,GAAUA,EAAS,CAACrB,KAAK,cAAcE,QAAQyB,MAAcC,EAAc,SAAuBD,GAAK,OAAO,SAASN,GAAUA,EAAS,CAACrB,KAAK,iBAAiBE,QAAQyB,MAKzjBE,GAHc7D,EAAoB,IAG3BA,EAAoB,KAC3B8D,EAA4B9D,EAAoBiB,EAAE4C,GAGlDE,EAAS/D,EAAoB,IAC7BgE,EAA8BhE,EAAoBiB,EAAE8C,GAGpDE,EAAuB,SAASC,GAAYzC,OAAOoB,EAA0B,EAAjCpB,CAAoC0C,EAAKD,GAAY,IAAIE,EAAO3C,OAAOqB,EAA6B,EAApCrB,CAAuC0C,GAAM,SAASA,IAA4D,OAArD1C,OAAOkB,EAAgC,EAAvClB,CAA0C9B,KAAKwE,GAAaC,EAAOC,MAAM1E,KAAKiC,WAA4xE,OAAhxEH,OAAOmB,EAA6B,EAApCnB,CAAuC0C,EAAK,CAAC,CAACG,IAAI,oBAAoBC,MAAM,WAAkH,IAArF,IAAsBC,EAAlBC,EAAW,GAAS3D,EAAE,uBAAuB4D,EAAEC,OAAOC,SAASC,KAAKC,UAAU,GAASN,EAAE1D,EAAEiE,KAAKL,IAAID,EAAWD,EAAE,IAAIQ,mBAAmBR,EAAE,IAAQC,EAAWQ,cAActF,KAAKuF,MAAM/B,SAASsB,EAAWQ,gBAAkB,CAACX,IAAI,cAAcC,MAAM,WAAuB,IAAIY,EAAMxF,KAAKqE,EAAeoB,EAAEC,KAAK,CAACC,IAAI,iCAAiCtD,KAAK,MAAMuD,WAAW,SAAoBC,GAAKA,EAAIC,iBAAiB,gBAAgB,UAAUN,EAAMD,MAAMjD,QAASyD,QAAQ,SAAiBC,GAAMR,EAAMD,MAAM5B,YAAYqC,EAAKC,cAAcC,QAAQC,IAAIH,EAAKC,mBAAqB,CAACtB,IAAI,cAAcC,MAAM,WAAuB5E,KAAKuF,MAAMxB,YAAW,GAAM/D,KAAKuF,MAAMa,QAAQnG,KAAK,YAAa,CAAC0E,IAAI,YAAYC,MAAM,WAAqB5E,KAAKuF,MAAMxB,YAAW,GAAO/D,KAAKuF,MAAMa,QAAQnG,KAAK,YAAa,CAAC0E,IAAI,SAASC,MAAM,WAAkB,OAAmBvD,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,QAAqBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,eAA4BjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIpC,EAAasB,EAAEa,UAAU,YAAYE,IAAI,UAAUxG,KAAKuF,MAAMjD,OAAoBjB,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,WAAWG,KAAK,GAAGC,OAAOrD,EAAa,eAAeqD,OAAOtD,EAAS,kBAAkBsD,OAAOpD,EAAY,WAAWoD,OAAOnD,EAAOoD,KAAK,OAAO,0CAA0C,oBAAoB3G,KAAKuF,MAAMjD,OAAoBjB,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,eAAetG,KAAK4G,cAA2BvF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,aAAa,6CAA0DjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,iBAAiBO,QAAQ7G,KAAK8G,YAAYC,KAAK/G,OAAO,kBAA+BqB,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,aAAa,qCAAkDjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,eAAeO,QAAQ7G,KAAKgH,UAAUD,KAAK/G,OAAO,iBAA8BqB,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,UAAU,2BAAwCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,cAAcG,KAAK,6CAA6C,sBAA8BjC,EAAngF,CAA0gFpD,EAAiB,WAAuW6F,EAAmBnF,OAAOL,EAAoB,EAA3BK,EAAhK,SAAyBE,GAAO,MAAM,CAACM,MAAMN,EAAMD,YAAYO,MAAME,SAASR,EAAMD,YAAYS,aAA3R,SAA4BkB,GAAU,OAAO5B,OAAOJ,EAAkC,EAAzCI,CAA4C,CAAC0B,SAASA,EAASG,YAAYA,EAAYI,WAAWA,GAAYL,KAA+L,CAAwEY,GAKn/F4C,GAHqB7G,EAAoB,IAGnCA,EAAoB,KAM1B8G,GAHsB9G,EAAoB,IAGL,SAASkE,GAAYzC,OAAOoB,EAA0B,EAAjCpB,CAAoCsF,EAAY7C,GAAY,IAAIE,EAAO3C,OAAOqB,EAA6B,EAApCrB,CAAuCsF,GAAa,SAASA,IAAc,IAAI5B,EAAM1D,OAAOkB,EAAgC,EAAvClB,CAA0C9B,KAAKoH,GAAa,IAAI,IAAIC,EAAKpF,UAAUC,OAAOoF,EAAK,IAAIC,MAAMF,GAAMG,EAAK,EAAEA,EAAKH,EAAKG,IAAQF,EAAKE,GAAMvF,UAAUuF,GAA6lD,OAAtlDhC,EAAMf,EAAOgD,KAAK/C,MAAMD,EAAO,CAACzE,MAAM0G,OAAOY,KAAatF,MAAM,CAACgE,KAAK,GAAG0B,eAAc,GAAOlC,EAAMmC,cAAc,WAAWC,MAAM,4DAA4DC,MAAK,SAAS7B,GAAM,OAAOA,EAAK8B,UAAUD,MAAK,SAASE,GAAK,OAAOvC,EAAMwC,SAAS,CAAChC,KAAK+B,OAASF,KAAK3B,QAAQC,IAAIX,EAAMxD,MAAMgE,QAASR,EAAMyC,YAAY,WAAyBzC,EAAMxD,MAAMgE,KAAKkC,KAAI,SAASlC,GAAM,OAAOA,EAAKmC,aAA0BC,SAAS5C,EAAMD,MAAM9C,OAAW+C,EAAMD,MAAM7C,QAASZ,OAAOoF,EAAkB,aAAzBpF,CAA4B,CAACuG,MAAM,uBAAuBC,QAAQ,0CAA0CC,QAAQ,CAAC,CAACC,MAAM,UAAehD,EAAMD,MAAMtB,cAAcuB,EAAMxD,MAAMgE,KAAKyC,MAAK,SAASC,GAAG,OAAOA,EAAEP,YAAY3C,EAAMD,MAAM9C,SAASE,YAAY6C,EAAMD,MAAMa,QAAQnG,KAAK,WAAoBuF,EAAMD,MAAM7C,QAAS2B,EAAeoB,EAAEC,KAAK,CAACC,IAAI,2DAA2DtD,KAAK,OAAO2D,KAAK2C,KAAKC,UAAU,CAACT,UAAU3C,EAAMD,MAAM9C,MAAMoG,UAAUrD,EAAMD,MAAM/C,SAASG,WAAW6C,EAAMD,MAAMjD,QAAQwG,YAAY,kCAAkC/C,QAAQ,WAAmBG,QAAQC,IAAI,mBAAmBX,EAAMD,MAAM9C,OAAO+C,EAAMD,MAAMtB,cAAcuB,EAAMD,MAAMjD,OAAOkD,EAAMD,MAAMa,QAAQnG,KAAK,WAAY8I,MAAM,WAAiBjH,OAAOoF,EAAkB,aAAzBpF,CAA4B,CAACuG,MAAM,wBAAwB3B,OAAOlB,EAAMD,MAAM9C,OAAO6F,QAAQ,YAAYC,QAAQ,CAAC,CAACC,MAAM,YAAmB1G,OAAOoF,EAAkB,aAAzBpF,CAA4B,CAACuG,MAAM,uBAAuBC,QAAQ,yDAAyDC,QAAQ,CAAC,CAACC,MAAM,UAAahD,EAAMwD,YAAY,SAASC,GAAOzD,EAAMD,MAAM1B,SAASoF,EAAMC,OAAOtE,QAAgBY,EAAwgD,OAAjgD1D,OAAOmB,EAA6B,EAApCnB,CAAuCsF,EAAY,CAAC,CAACzC,IAAI,oBAAoBC,MAAM,WAAkD,GAArB5E,KAAK2H,iBAAoB3H,KAAKgC,MAAM0F,cAAc,CAAC,IAAIyB,EAASC,YAAYpJ,KAAK2H,cAAc,KAAM3H,KAAKgI,SAAS,CAACN,cAAcyB,OAAe,CAACxE,IAAI,uBAAuBC,MAAM,WAAmC5E,KAAKgC,MAAM0F,gBAAe2B,cAAcrJ,KAAKgC,MAAM0F,eAAe1H,KAAKgI,SAAS,CAACN,cAAc,UAAW,CAAC/C,IAAI,SAASC,MAAM,WAAkB,OAAmBvD,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,UAAuBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,iBAA8BjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIpC,EAAasB,EAAEa,UAAU,cAAcE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,YAAYtG,KAAKuF,MAAM7C,QAAQ,oBAAoB,oBAAiCrB,EAAcoE,EAAEY,cAAc,OAAO,CAACC,UAAU,eAA4BjF,EAAcoE,EAAEY,cAAc,QAAQ,CAACC,UAAU,QAAQjE,KAAK,OAAOiH,YAAY,kBAAkBC,SAASvJ,KAAKgJ,eAA4B3H,EAAcoE,EAAEY,cAAc,KAAK,MAAmBhF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,kBAAkBO,QAAQ7G,KAAKiI,YAAYlB,KAAK/G,OAAOA,KAAKuF,MAAM7C,QAAQ,cAAc,cAA2BrB,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,UAAU,2BAAwCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,cAAcG,KAAK,6CAA6C,sBAA8BW,EAAj8G,CAA+8GhG,EAAiB,YAAgdoI,EAA0B1H,OAAOL,EAAoB,EAA3BK,EAA/Q,SAAyBE,GAAO,MAAM,CAACS,MAAMT,EAAMD,YAAYU,MAAMH,MAAMN,EAAMD,YAAYO,MAAME,SAASR,EAAMD,YAAYS,SAASE,QAAQV,EAAMD,YAAYW,QAAQC,WAAWX,EAAMD,YAAYY,eAA3X,SAA4Be,GAAU,OAAO5B,OAAOJ,EAAkC,EAAzCI,CAA4C,CAAC+B,SAASA,EAASI,cAAcA,GAAeP,KAA0T,CAA2FyD,GAEzkIsC,EAAU,SAAmBzF,GAAK,OAAO,SAASN,GAAUA,EAAS,CAACrB,KAAK,aAAaE,QAAQyB,MAKhG0F,GAHerJ,EAAoB,IAGzBA,EAAoB,KAC9BsJ,EAA+BtJ,EAAoBiB,EAAEoI,GAGrDE,EAAWvJ,EAAoB,IAC/BwJ,EAAgCxJ,EAAoBiB,EAAEsI,GAMtDE,GAHgBzJ,EAAoB,IAG1BA,EAAoB,KAC9B0J,EAA+B1J,EAAoBiB,EAAEwI,GAGqiCE,EAA5kC,SAAgBzE,GAAO,IAAI0E,EAAiB,CAACC,gBAAgB,OAAOxD,OAAOnB,EAAM4E,KAAKC,MAAMC,OAAO,GAAG1E,IAAI,MAAM,MAAe,KAAZJ,EAAM+E,IAA6BjJ,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,OAAoBjF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,oBAAiCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIhB,EAAM4E,KAAKC,MAAMC,OAAO,GAAG1E,IAAIa,IAAI,MAAmBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,aAAaiE,MAAMN,IAAmB,MAA+B5I,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,OAAoBjF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,gBAAgB,YAAyBjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIwD,EAAgBtE,EAAEa,UAAU,SAASE,IAAI,WAAW,oDAAmEnF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,aAAaiE,MAAMN,IAAmB,OAEhjCO,EAAiCnK,EAAoB,IACrDoK,EAAsDpK,EAAoBiB,EAAEkJ,GAG5EE,EAAyB,SAASnG,GAAYzC,OAAOoB,EAA0B,EAAjCpB,CAAoCgC,EAAMS,GAAY,IAAIE,EAAO3C,OAAOqB,EAA6B,EAApCrB,CAAuCgC,GAAO,SAASA,IAAQ,IAAI0B,EAAM1D,OAAOkB,EAAgC,EAAvClB,CAA0C9B,KAAK8D,GAAO,IAAI,IAAIuD,EAAKpF,UAAUC,OAAOoF,EAAK,IAAIC,MAAMF,GAAMG,EAAK,EAAEA,EAAKH,EAAKG,IAAQF,EAAKE,GAAMvF,UAAUuF,GAA2b,OAApbhC,EAAMf,EAAOgD,KAAK/C,MAAMD,EAAO,CAACzE,MAAM0G,OAAOY,KAAatF,MAAM,CAACgE,KAAK,GAAG0B,eAAc,EAAM/E,WAAW,GAAGwH,KAAK,CAACC,MAAM,CAACC,OAAO,CAAC,CAAC1E,IAAI,MAAMgF,KAAK,GAAGC,QAAQ,CAAC,CAACD,KAAK,KAAKE,YAAY,GAAGC,QAAQ,GAAGC,aAAa,GAAGT,IAAI,GAAGU,MAAK,EAAMC,SAAS,GAAGzF,EAAMmC,cAAc,WAAWC,MAAM,4DAA4DC,MAAK,SAAS7B,GAAM,OAAOA,EAAK8B,UAAUD,MAAK,SAASE,GAAK,OAAOvC,EAAMwC,SAAS,CAAChC,KAAK+B,QAAkBvC,EAEg8J,OAFz7J1D,OAAOmB,EAA6B,EAApCnB,CAAuCgC,EAAM,CAAC,CAACa,IAAI,oBAAoBC,MAAM,WAA6B,IAAIsG,EAAOlL,KAA0B,GAArBA,KAAK2H,iBAAoB3H,KAAKgC,MAAM0F,cAAc,CAAC,IAAIyB,EAASC,YAAYpJ,KAAK2H,cAAc,KAAM3H,KAAKgI,SAAS,CAACN,cAAcyB,IAAY,GAAGnJ,KAAKgC,MAAMgE,KAAK9D,OAAO,EAAE,CAAC,IAAIiJ,EAASnL,KAAKgC,MAAMgE,KAAKyC,MAAK,SAAS2C,GAAS,OAAOA,EAAQ3I,QAAQyI,EAAO3F,MAAM9C,SAASzC,KAAKgI,SAAS,CAACrF,WAAWwI,EAASxI,aAAa3C,KAAKqL,oBAAoBrL,KAAKgC,MAAMW,YAAaqC,OAAOsG,eAAe,WAA2B,OAAhBtL,KAAKuL,WAAiB,IAAKxE,KAAK/G,MAAMA,KAAKuF,MAAMkE,WAAU,KAAS,CAAC9E,IAAI,uBAAuBC,MAAM,WAAmC5E,KAAKgC,MAAM0F,gBAAe2B,cAAcrJ,KAAKgC,MAAM0F,eAAe1H,KAAKgI,SAAS,CAACN,cAAc,QAAQ1H,KAAKuF,MAAMkE,WAAU,KAAU,CAAC9E,IAAI,qBAAqBC,MAAM,WAC/kD5E,KAAKuF,MAAM7C,SAA0C,IAAjC1C,KAAKgC,MAAM+I,aAAa7I,SAAYgE,QAAQC,IAAI,YAAYnG,KAAKgC,MAAM8I,QAAQ,IAAmC,IAA5B9K,KAAKgC,MAAM8I,QAAQ5I,OAAYlC,KAAKwL,OAAOxL,KAAKuF,MAAMjD,OAAgBtC,KAAKgC,MAAM8I,QAAQ,KAAK9K,KAAKgC,MAAMsI,KAAKtK,KAAKgC,MAAMgJ,MAAMhL,KAAKyL,UAAUzL,KAAKuF,MAAMjD,UAAY,CAACqC,IAAI,eAAeC,MAAM,WAAwB,IAAI8G,EAAO1L,KAAsG,OAApFA,KAAKgC,MAAMgE,KAAKyC,MAAK,SAAS2C,GAAS,OAAOA,EAAQ3I,QAAQiJ,EAAOnG,MAAM9C,SAAyBoG,YAAa,CAAClE,IAAI,YAAYC,MAAM,SAAmBtC,GAAO,IAAIqJ,EAAO3L,KAAKqE,EAAeoB,EAAEC,KAAK,CAACC,IAAI,4CAA4CtD,KAAK,MAAM2D,KAAK2C,KAAKC,UAAU,CAACgD,KAAO5L,KAAKgC,MAAM+I,aAAac,YAAc7L,KAAKgC,MAAMiJ,WAAWrF,WAAW,SAAoBC,GAAKA,EAAIC,iBAAiB,gBAAgB,UAAUxD,IAASyD,QAAQ,WAAmB4F,EAAOH,OAAOG,EAAOpG,MAAMjD,OAAOqJ,EAAO3D,SAAS,CAACgD,MAAK,IAAQ9E,QAAQC,IAAI,qBAAuB,CAACxB,IAAI,SAASC,MAAM,SAAgBtC,GAAO,IAAIwJ,EAAO9L,KAAKqE,EAAeoB,EAAEC,KAAK,CAACC,IAAI,uCAAuCtD,KAAK,MAAMuD,WAAW,SAAoBC,GAAKA,EAAIC,iBAAiB,gBAAgB,UAAUxD,IAASyD,QAAQ,SAAiBC,GAAuB,qBAAPA,KAA8B,OAAPA,QAAoB,IAAPA,OAAc,EAAOA,EAAKmE,MAAM2B,EAAO9D,SAAS,CAAC8C,QAAQ,CAAC9E,EAAKmE,KAAKG,OAAawB,EAAO9D,SAAS,CAAC8C,QAAQ,CAAC,uBAClzC,CAACnG,IAAI,sBAAsBC,MAAM,SAA6BtC,GAAO,IAAIyJ,EAAO/L,KAAKqE,EAAeoB,EAAEC,KAAK,CAACC,IAAI,uCAAuCtD,KAAK,MAAMuD,WAAW,SAAoBC,GAAKA,EAAIC,iBAAiB,gBAAgB,UAAUxD,IAASyD,QAAQ,SAAiBC,GAAM,GAAiB,qBAAPA,EAAmB,CAAC,IAAIgG,EAAQ,CAAChG,EAAKmE,KAAKG,KAAQtE,EAAKmE,KAAKG,MAAMyB,EAAO/J,MAAMsI,KAAKyB,EAAO/D,SAAS,CAACmC,KAAKnE,EAAKmE,KAAKG,IAAItE,EAAKmE,KAAKG,IAAIS,aAAaiB,EAAQhB,MAAK,EAAKC,SAASjF,EAAKiG,mBAAyBF,EAAOxG,MAAM7C,SAASZ,OAAOoF,EAAkB,aAAzBpF,CAA4B,CAACuG,MAAM,mBAAmBC,QAAQ,0DAA0DC,QAAQ,CAAC,CAACC,MAAM,cAAiB,CAAC7D,IAAI,SAASC,MAAM,WAAkB,OAAI5E,KAAKuF,MAAM1C,SAAgjB7C,KAAKuF,MAAM1C,UAAmC,IAAzB7C,KAAKgC,MAAMgE,KAAK9D,OAA+Bb,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,SAAsBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,eAAe,mBAAgCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIoD,EAAgBlE,EAAEa,UAAU,iBAAiBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIsD,EAAiBpE,EAAEa,UAAU,kBAAkBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,kBAAkB,cAA2BjF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,WAAwBjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,UAAU,2BAAwCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,cAAcG,KAAK,6CAA6C,kBAA2BzG,KAAKuF,MAAM1C,WAAW7C,KAAKuF,MAAM/C,SAA6BnB,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,SAAsBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,eAAe,mBAAgCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIoD,EAAgBlE,EAAEa,UAAU,iBAAiBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIsD,EAAiBpE,EAAEa,UAAU,kBAAkBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,mBAAmB,wBAAqCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,iBAAiBG,KAAK,GAAGC,OAAOrD,EAAa,eAAeqD,OAAOtD,EAAS,kBAAkBsD,OAAOpD,EAAY,WAAWoD,OAAOnD,EAAOoD,KAAK,OAAO,0CAA0C,eAAoB3G,KAAKuF,MAAM7C,QAAsyC1C,KAAKuF,MAAM7C,QAA4BrB,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,SAAsBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,eAAe,mBAAgCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIoD,EAAgBlE,EAAEa,UAAU,iBAAiBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIsD,EAAiBpE,EAAEa,UAAU,kBAAkBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,kBAAkB,kBAAkBtG,KAAKuF,MAAM9C,OAAOzC,KAAKqL,oBAAoBrL,KAAKuF,MAAMjD,OAAoBjB,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc2D,EAAkB,CAACG,KAAKnK,KAAKgC,MAAMmI,KAAKG,IAAItK,KAAKgC,MAAMsI,MAAmBjJ,EAAcoE,EAAEY,cAAc,KAAK,MAAmBhF,EAAcoE,EAAEY,cAAc,KAAK,MAAmBhF,EAAcoE,EAAEY,cAAcoE,EAAuChF,EAAE,CAACyG,OAAO,CAACC,YAAY,UAAUC,YAAY,WAAWC,UAAS,EAAKC,MAAK,EAAKC,cAAa,EAAKjK,MAAMtC,KAAKuF,MAAMjD,MAAMqI,KAAK,oBAAoB,KAAkBtJ,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,UAAU,2BAAwCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,cAAcG,KAAK,6CAA6C,uBAA72C,EAAvwCpF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,SAAsBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,eAAe,mBAAgCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIoD,EAAgBlE,EAAEa,UAAU,iBAAiBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIsD,EAAiBpE,EAAEa,UAAU,kBAAkBE,IAAI,SAASxG,KAAKqL,oBAAoBrL,KAAKuF,MAAM5C,YAAyBtB,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,gBAAgBJ,QAAQC,IAAInG,KAAKgC,MAAMsI,KAAkBjJ,EAAcoE,EAAEY,cAAc2D,EAAkB,CAACG,KAAKnK,KAAKgC,MAAMmI,KAAKG,IAAItK,KAAKgC,MAAMsI,MAAmBjJ,EAAcoE,EAAEY,cAAc,KAAK,MAAmBhF,EAAcoE,EAAEY,cAAc,KAAK,MAAmBhF,EAAcoE,EAAEY,cAAcoE,EAAuChF,EAAE,CAACyG,OAAO,CAACC,YAAY,UAAUC,YAAY,WAAWC,UAAS,EAAKC,MAAK,EAAKC,cAAa,EAAKjK,MAAMtC,KAAKuF,MAAMjD,MAAMqI,KAAK,oBAAoB,KAAkBtJ,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,UAAU,2BAAwCjF,EAAcoE,EAAEY,cAAc,IAAI,CAACC,UAAU,cAAcG,KAAK,6CAA6C,kBAArkHpF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,SAAsBjF,EAAcoE,EAAEY,cAAc,SAAS,CAACC,UAAU,gBAA6BjF,EAAcoE,EAAEY,cAAc,KAAK,CAACC,UAAU,eAAe,mBAAgCjF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIoD,EAAgBlE,EAAEa,UAAU,iBAAiBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACE,IAAIsD,EAAiBpE,EAAEa,UAAU,kBAAkBE,IAAI,SAAsBnF,EAAcoE,EAAEY,cAAc,MAAM,CAACC,UAAU,iBAAm+IxC,EAF/rL,CAEusL1C,EAAiB,WAA4coL,EAAoB1K,OAAOL,EAAoB,EAA3BK,EAA3S,SAAyBE,GAAO,MAAM,CAACa,SAASb,EAAMY,UAAUC,SAASJ,MAAMT,EAAMD,YAAYU,MAAMH,MAAMN,EAAMD,YAAYO,MAAME,SAASR,EAAMD,YAAYS,SAASE,QAAQV,EAAMD,YAAYW,QAAQC,WAAWX,EAAMD,YAAYY,eAA7X,SAA4Be,GAAU,OAAO5B,OAAOJ,EAAkC,EAAzCI,CAA4C,CAAC2H,UAAUA,GAAW/F,KAAgV,CAA+EgH,GAEzmL+B,EAAlqB,WAAqB,OAAmBpL,EAAcoE,EAAEY,cAAcvD,EAAwC,EAAE,CAAC4J,SAAS,mBAAgCrL,EAAcoE,EAAEY,cAAc,MAAM,KAAkBhF,EAAcoE,EAAEY,cAActD,EAA6B,EAAE,KAAkB1B,EAAcoE,EAAEY,cAActD,EAA4B,EAAE,CAAC4J,KAAK,IAAIC,UAAU3F,EAAgB4F,OAAM,IAAoBxL,EAAcoE,EAAEY,cAActD,EAA4B,EAAE,CAAC4J,KAAK,SAASC,UAAUpD,IAAsCnI,EAAcoE,EAAEY,cAActD,EAA4B,EAAE,CAAC4J,KAAK,SAASC,UAAUJ,QAEvnBnM,EAAoB,IAG2F,IAAIyM,EAA7H,WAAmB,OAAmBzL,EAAcoE,EAAEY,cAAcoG,EAAiB,OAWrEM,QAAmC,cAA3B/H,OAAOC,SAAS+H,UACb,UAA3BhI,OAAOC,SAAS+H,UAChBhI,OAAOC,SAAS+H,SAASC,MAAM,2DAsB/BzL,EAAkBiE,EAAEyH,OAAoB7L,EAAcoE,EAAEY,cAAc5E,EAAqB,EAAE,CAAC0L,MAzH7DrL,OAAOJ,EAA2B,EAAlCI,CAAqCD,EAAYC,OAAOJ,EAA+B,EAAtCI,CAAyCH,EAAgC,KAyHxBN,EAAcoE,EAAEY,cAAcyG,EAAQ,OAAOM,SAASC,eAAe,SAF3C,kBAAkBC,WAAWA,UAAUC,cAAcC,MAAM3F,MAAK,SAAS4F,GAAcA,EAAaC,gBAAgBC,OAAM,SAAS5E,GAAO7C,QAAQ6C,MAAMA,EAAMT,cASzT,CAAC,CAAC,GAAG,EAAE"},"code":"(this[\"webpackJsonplisten-together\"]=this[\"webpackJsonplisten-together\"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+\"static/media/topLeft.7b0b5f12.png\"},19:function(e,t,a){e.exports=a.p+\"static/media/topRight.81a215e0.png\"},23:function(e,t,a){e.exports=a.p+\"static/media/logo.f4b3fff4.png\"},37:function(e,t,a){e.exports=a.p+\"static/media/devices.a3bb48b9.png\"},39:function(e,t,a){e.exports=a(90)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),o=a(20),s=a.n(o),i=a(10),c=a(5),l=a(36),u=a(4),p=Object(c.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ADD_TOKEN\":return Object(u.a)(Object(u.a)({},e),{},{token:t.payload});case\"SET_USERNAME\":return Object(u.a)(Object(u.a)({},e),{},{username:t.payload});case\"SET_GROUP\":return Object(u.a)(Object(u.a)({},e),{},{group:t.payload});case\"SET_ISOWNER\":return Object(u.a)(Object(u.a)({},e),{},{isOwner:t.payload});case\"SET_OWNERTOKEN\":return Object(u.a)(Object(u.a)({},e),{},{ownerToken:t.payload});default:return e}},uiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_LOADED\":return Object(u.a)(Object(u.a)({},e),{},{isLoaded:t.payload});default:return e}}});a(48);var m=a(38),h=a(2),d=a(13),g=a(14),f=a(16),y=a(15),E=\"56666d131c0b4eec8da574b72b0827c1\",b=\"https://accounts.spotify.com/authorize\",v=\"https://jkl1999.github.io/ListenTogether\",N=[\"streaming\",\"user-read-email\",\"user-read-private\",\"user-library-read\",\"user-library-modify\",\"user-read-playback-state\",\"user-modify-playback-state\",\"app-remote-control\",\"user-modify-playback-state\",\"user-read-currently-playing\",\"user-read-playback-state\"],k=function(e){return function(t){t({type:\"ADD_TOKEN\",payload:e})}},O=function(e){return function(t){t({type:\"SET_USERNAME\",payload:e})}},w=function(e){return function(t){t({type:\"SET_GROUP\",payload:e})}},G=function(e){return function(t){t({type:\"SET_ISOWNER\",payload:e})}},S=function(e){return function(t){t({type:\"SET_OWNERTOKEN\",payload:e})}},j=(a(49),a(23)),T=a.n(j),L=a(11),R=a.n(L),C=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);e=a.exec(r);)t[e[1]]=decodeURIComponent(e[2]);t.access_token&&this.props.addToken(t.access_token)}},{key:\"getUsername\",value:function(){var e=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e.props.token)},success:function(t){e.props.setUsername(t.display_name),console.log(t.display_name)}})}},{key:\"createGroup\",value:function(){this.props.setIsOwner(!0),this.props.history.push(\"/start\")}},{key:\"joinGroup\",value:function(){this.props.setIsOwner(!1),this.props.history.push(\"/start\")}},{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"Home\"},n.a.createElement(\"header\",{className:\"Home-header\"},n.a.createElement(\"img\",{src:T.a,className:\"Home-logo\",alt:\"logo\"}),!this.props.token&&n.a.createElement(\"a\",{className:\"Home-btn\",href:\"\".concat(b,\"?client_id=\").concat(E,\"&redirect_uri=\").concat(v,\"&scope=\").concat(N.join(\"%20\"),\"&response_type=token&show_dialog=true\")},\"Login to Spotify\"),this.props.token&&n.a.createElement(\"div\",{className:\"Home-btnDiv\"},this.getUsername(),n.a.createElement(\"p\",{className:\"Home-text\"},\"Create a new group that friends can join.\"),n.a.createElement(\"button\",{className:\"Home-createBtn\",onClick:this.createGroup.bind(this)},\"Create a Group\"),n.a.createElement(\"p\",{className:\"Home-text\"},\"Join a group that already exists.\"),n.a.createElement(\"button\",{className:\"Home-joinBtn\",onClick:this.joinGroup.bind(this)},\"Join a Group\")),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\"))))}}]),a}(r.Component),I=Object(i.b)((function(e){return{token:e.userReducer.token,username:e.userReducer.username}}),(function(e){return Object(c.b)({addToken:k,setUsername:O,setIsOwner:G},e)}))(C),D=(a(50),a(17)),_=(a(31),function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={data:[],intervalIsSet:!1},e.getDataFromDb=function(){fetch(\"https://listen-together-api.herokuapp.com/Groups/getData\").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})})).then(console.log(e.state.data))},e.handleGroup=function(){e.state.data.map((function(e){return e.groupName})).includes(e.props.group)?e.props.isOwner?Object(D.confirmAlert)({title:\"Group Already Exists\",message:\"Enter a name that is not already taken.\",buttons:[{label:\"OK\"}]}):(e.props.setOwnerToken(e.state.data.find((function(t){return t.groupName===e.props.group})).ownerToken),e.props.history.push(\"/group\")):e.props.isOwner?R.a.ajax({url:\"https://listen-together-api.herokuapp.com/Groups/putData\",type:\"POST\",data:JSON.stringify({groupName:e.props.group,ownerName:e.props.username,ownerToken:e.props.token}),contentType:\"application/json; charset=UTF-8\",success:function(){console.log(\"New Group Made: \"+e.props.group),e.props.setOwnerToken(e.props.token),e.props.history.push(\"/group\")},error:function(){Object(D.confirmAlert)({title:\"Error Creating Group \".concat(e.props.group),message:\"Try Again\",buttons:[{label:\"OK\"}]})}}):Object(D.confirmAlert)({title:\"Group Does Not Exist\",message:\"Make sure you spelled the name of the group correctly.\",buttons:[{label:\"OK\"}]})},e.handleInput=function(t){e.props.setGroup(t.target.value)},e}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var e=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:e})}}},{key:\"componentWillUnmount\",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"Create\"},n.a.createElement(\"header\",{className:\"Create-header\"},n.a.createElement(\"img\",{src:T.a,className:\"Create-logo\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Create-p\"},this.props.isOwner?\"Create Group Name\":\"Enter Group Name\"),n.a.createElement(\"form\",{className:\"Create-form\"},n.a.createElement(\"input\",{className:\"input\",type:\"text\",placeholder:\"Enter Name Here\",onChange:this.handleInput})),n.a.createElement(\"br\",null),n.a.createElement(\"button\",{className:\"Create-startBtn\",onClick:this.handleGroup.bind(this)},this.props.isOwner?\"Start Group\":\"Join Group\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\"))))}}]),a}(r.Component)),U=Object(i.b)((function(e){return{group:e.userReducer.group,token:e.userReducer.token,username:e.userReducer.username,isOwner:e.userReducer.isOwner,ownerToken:e.userReducer.ownerToken}}),(function(e){return Object(c.b)({setGroup:w,setOwnerToken:S},e)}))(_),H=function(e){return function(t){t({type:\"SET_LOADED\",payload:e})}},A=(a(51),a(18)),x=a.n(A),P=a(19),B=a.n(P),K=(a(52),a(37)),W=a.n(K),M=function(e){var t={backgroundImage:\"url(\".concat(e.item.album.images[0].url,\")\")};return\"\"!==e.uri?n.a.createElement(\"div\",{className:\"App\"},n.a.createElement(\"div\",{className:\"main-wrapper\"},n.a.createElement(\"div\",{className:\"now-playing__img\"},n.a.createElement(\"img\",{src:e.item.album.images[0].url,alt:\"\"})),n.a.createElement(\"div\",{className:\"background\",style:t}),\" \")):n.a.createElement(\"div\",{className:\"App\"},n.a.createElement(\"div\",{className:\"main-wrapper\"},n.a.createElement(\"p\",{className:\"instructions\"},\"Press    \",n.a.createElement(\"img\",{src:W.a,className:\"device\",alt:\"device\"}),'  , Then select \"Listen Together\" to play music.'),n.a.createElement(\"div\",{className:\"background\",style:t}),\" \"))},F=a(26),J=a.n(F),z=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={data:[],intervalIsSet:!1,ownerToken:\"\",item:{album:{images:[{url:\"\"}]},name:\"\",artists:[{name:\"\"}],duration_ms:0},userUri:[],ownerPlaying:[],uri:\"\",sync:!1,position:0},e.getDataFromDb=function(){fetch(\"https://listen-together-api.herokuapp.com/Groups/getData\").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})}))},e}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){var e=this;if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}if(this.state.data.length>0){var a=this.state.data.find((function(t){return t.group===e.props.group}));this.setState({ownerToken:a.ownerToken}),this.getCurrentlyPlaying(this.state.ownerToken)}window.onbeforeunload=function(){return this.onUnload(),\"\"}.bind(this),this.props.hasLoaded(!0)}},{key:\"componentWillUnmount\",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null})),this.props.hasLoaded(!1)}},{key:\"componentDidUpdate\",value:function(){this.props.isOwner||0===this.state.ownerPlaying.length||(console.log(\"CUR URI: \"+this.state.userUri[0]),0===this.state.userUri.length?this.getURI(this.props.token):this.state.userUri[0]!==this.state.uri&&this.state.sync&&this.SyncSongs(this.props.token))}},{key:\"displayOwner\",value:function(){var e=this;return this.state.data.find((function(t){return t.group===e.props.group})).ownerName}},{key:\"SyncSongs\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player/play\",type:\"PUT\",data:JSON.stringify({uris:this.state.ownerPlaying,position_ms:this.state.position}),beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(){t.getURI(t.props.token),t.setState({sync:!1}),console.log(\"Songs Synced\")}})}},{key:\"getURI\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(e){\"undefined\"!==typeof e&&((null===e||void 0===e?void 0:e.item)?t.setState({userUri:[e.item.uri]}):t.setState({userUri:[\"Not Playing\"]}))}})}},{key:\"getCurrentlyPlaying\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(e){if(\"undefined\"!==typeof e){var a=[e.item.uri];e.item.uri!==t.state.uri&&t.setState({item:e.item,uri:e.item.uri,ownerPlaying:a,sync:!0,position:e.progress_ms})}else t.props.isOwner||Object(D.confirmAlert)({title:\"No Music Playing\",message:\"The group leader needs to start playing music to begin.\",buttons:[{label:\"OK\"}]})}})}},{key:\"render\",value:function(){return this.props.isLoaded?this.props.isLoaded&&0===this.state.data.length?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:x.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:B.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Group-curGroup\"},\"Loading...\"),n.a.createElement(\"div\",{className:\"loader\"}),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):this.props.isLoaded&&!this.props.username?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:x.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:B.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"h3\",{className:\"Group-loadError\"},\"Something Went Wrong\"),n.a.createElement(\"a\",{className:\"Group-tryAgain\",href:\"\".concat(b,\"?client_id=\").concat(E,\"&redirect_uri=\").concat(v,\"&scope=\").concat(N.join(\"%20\"),\"&response_type=token&show_dialog=true\")},\"Try Again\"))):this.props.isOwner?this.props.isOwner?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:x.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:B.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Group-curGroup\"},\"Current Group: \"+this.props.group),this.getCurrentlyPlaying(this.props.token),n.a.createElement(\"div\",{className:\"Group-player\"},n.a.createElement(M,{item:this.state.item,uri:this.state.uri}),n.a.createElement(\"br\",null),n.a.createElement(\"br\",null),n.a.createElement(J.a,{styles:{loaderColor:\"#1db954\",sliderColor:\"#1db954\"},autoPlay:!0,play:!0,showSaveIcon:!0,token:this.props.token,name:\"Listen Together\"}),\";\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):void 0:n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:x.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:B.a,className:\"Group-logoRight\",alt:\"logo\"}),this.getCurrentlyPlaying(this.props.ownerToken),n.a.createElement(\"div\",{className:\"Group-player\"},console.log(this.state.uri),n.a.createElement(M,{item:this.state.item,uri:this.state.uri}),n.a.createElement(\"br\",null),n.a.createElement(\"br\",null),n.a.createElement(J.a,{styles:{loaderColor:\"#1db954\",sliderColor:\"#1db954\"},autoPlay:!0,play:!0,showSaveIcon:!0,token:this.props.token,name:\"Listen Together\"}),\";\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:x.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:B.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"div\",{className:\"loader\"})))}}]),a}(r.Component),V=Object(i.b)((function(e){return{isLoaded:e.uiReducer.isLoaded,group:e.userReducer.group,token:e.userReducer.token,username:e.userReducer.username,isOwner:e.userReducer.isOwner,ownerToken:e.userReducer.ownerToken}}),(function(e){return Object(c.b)({hasLoaded:H},e)}))(z),q=function(){return n.a.createElement(m.a,{basename:\"/ListenTogether\"},n.a.createElement(\"div\",null,n.a.createElement(h.c,null,n.a.createElement(h.a,{path:\"/\",component:I,exact:!0}),n.a.createElement(h.a,{path:\"/start\",component:U}),n.a.createElement(h.a,{path:\"/group\",component:V}))))};a(89);var $=function(){return n.a.createElement(q,null)};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(i.a,{store:Object(c.d)(p,Object(c.a)(l.a))},n.a.createElement($,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);","extractedComments":[]}