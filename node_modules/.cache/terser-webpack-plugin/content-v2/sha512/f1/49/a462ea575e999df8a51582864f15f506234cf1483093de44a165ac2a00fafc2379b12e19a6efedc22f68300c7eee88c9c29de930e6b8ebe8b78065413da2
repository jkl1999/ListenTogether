{"map":{"version":3,"sources":["static/js/main.621fcb7c.chunk.js"],"names":["this","push","18","module","exports","__webpack_require__","p","19","23","37","39","48","49","50","51","52","89","90","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","es","redux","redux_thunk_es","objectSpread2","rootReducer","Object","userReducer","state","arguments","length","undefined","action","type","token","payload","username","group","isOwner","ownerToken","uiReducer","isLoaded","react_router_dom","react_router","classCallCheck","createClass","inherits","createSuper","clientId","authEndpoint","scopes","addToken","Token","dispatch","setUsername","Username","setGroup","Group","setIsOwner","val","setOwnerToken","logo","logo_default","jquery","jquery_default","Home_Home","_Component","Home","_super","apply","key","value","e","hashParams","q","window","location","hash","substring","exec","decodeURIComponent","access_token","props","_this","a","ajax","url","beforeSend","xhr","setRequestHeader","success","data","display_name","console","log","history","createElement","className","src","alt","href","concat","join","getUsername","onClick","createGroup","bind","joinGroup","components_Home","lib","CreateGroup_CreateGroup","CreateGroup","_len","args","Array","_key","call","intervalIsSet","getDataFromDb","fetch","then","json","res","setState","handleGroup","map","groupName","includes","title","message","buttons","label","find","x","JSON","stringify","ownerName","contentType","error","handleInput","event","target","interval","setInterval","clearInterval","placeholder","onChange","components_CreateGroup","hasLoaded","topLeft","topLeft_default","topRight","topRight_default","devices","devices_default","components_Player","backgroundStyles","backgroundImage","item","album","images","uri","style","react_spotify_web_playback_lib","react_spotify_web_playback_lib_default","Group_Group","name","artists","duration_ms","userUri","ownerPlaying","sync","position","_this2","curGroup","element","getCurrentlyPlaying","onbeforeunload","onUnload","getURI","SyncSongs","_this3","_this4","uris","position_ms","_this5","_this6","newSong","progress_ms","styles","loaderColor","sliderColor","autoPlay","play","showSaveIcon","components_Group","router_AppRouter","path","component","exact","src_App","Boolean","hostname","match","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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"},"code":"(this[\"webpackJsonplisten-together\"]=this[\"webpackJsonplisten-together\"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+\"static/media/topLeft.7b0b5f12.png\"},19:function(e,t,a){e.exports=a.p+\"static/media/topRight.81a215e0.png\"},23:function(e,t,a){e.exports=a.p+\"static/media/logo.f4b3fff4.png\"},37:function(e,t,a){e.exports=a.p+\"static/media/devices.a3bb48b9.png\"},39:function(e,t,a){e.exports=a(90)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),o=a(20),s=a.n(o),i=a(10),c=a(5),l=a(36),u=a(4),p=Object(c.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ADD_TOKEN\":return Object(u.a)(Object(u.a)({},e),{},{token:t.payload});case\"SET_USERNAME\":return Object(u.a)(Object(u.a)({},e),{},{username:t.payload});case\"SET_GROUP\":return Object(u.a)(Object(u.a)({},e),{},{group:t.payload});case\"SET_ISOWNER\":return Object(u.a)(Object(u.a)({},e),{},{isOwner:t.payload});case\"SET_OWNERTOKEN\":return Object(u.a)(Object(u.a)({},e),{},{ownerToken:t.payload});default:return e}},uiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_LOADED\":return Object(u.a)(Object(u.a)({},e),{},{isLoaded:t.payload});default:return e}}});a(48);var m=a(38),h=a(2),d=a(13),g=a(14),f=a(16),y=a(15),E=\"56666d131c0b4eec8da574b72b0827c1\",b=\"https://accounts.spotify.com/authorize\",v=[\"streaming\",\"user-read-email\",\"user-read-private\",\"user-library-read\",\"user-library-modify\",\"user-read-playback-state\",\"user-modify-playback-state\",\"app-remote-control\",\"user-modify-playback-state\",\"user-read-currently-playing\",\"user-read-playback-state\"],N=function(e){return function(t){t({type:\"ADD_TOKEN\",payload:e})}},k=function(e){return function(t){t({type:\"SET_USERNAME\",payload:e})}},O=function(e){return function(t){t({type:\"SET_GROUP\",payload:e})}},w=function(e){return function(t){t({type:\"SET_ISOWNER\",payload:e})}},G=function(e){return function(t){t({type:\"SET_OWNERTOKEN\",payload:e})}},S=(a(49),a(23)),j=a.n(S),T=a(11),R=a.n(T),L=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);e=a.exec(r);)t[e[1]]=decodeURIComponent(e[2]);t.access_token&&this.props.addToken(t.access_token)}},{key:\"getUsername\",value:function(){var e=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e.props.token)},success:function(t){e.props.setUsername(t.display_name),console.log(t.display_name)}})}},{key:\"createGroup\",value:function(){this.props.setIsOwner(!0),this.props.history.push(\"/start\")}},{key:\"joinGroup\",value:function(){this.props.setIsOwner(!1),this.props.history.push(\"/start\")}},{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"Home\"},n.a.createElement(\"header\",{className:\"Home-header\"},n.a.createElement(\"img\",{src:j.a,className:\"Home-logo\",alt:\"logo\"}),!this.props.token&&n.a.createElement(\"a\",{className:\"Home-btn\",href:\"\".concat(b,\"?client_id=\").concat(E,\"&redirect_uri=\").concat(\"http://localhost:3000\",\"&scope=\").concat(v.join(\"%20\"),\"&response_type=token&show_dialog=true\")},\"Login to Spotify\"),this.props.token&&n.a.createElement(\"div\",{className:\"Home-btnDiv\"},this.getUsername(),n.a.createElement(\"p\",{className:\"Home-text\"},\"Create a new group that friends can join.\"),n.a.createElement(\"button\",{className:\"Home-createBtn\",onClick:this.createGroup.bind(this)},\"Create a Group\"),n.a.createElement(\"p\",{className:\"Home-text\"},\"Join a group that already exists.\"),n.a.createElement(\"button\",{className:\"Home-joinBtn\",onClick:this.joinGroup.bind(this)},\"Join a Group\")),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\"))))}}]),a}(r.Component),C=Object(i.b)((function(e){return{token:e.userReducer.token,username:e.userReducer.username}}),(function(e){return Object(c.b)({addToken:N,setUsername:k,setIsOwner:w},e)}))(L),I=(a(50),a(17)),D=(a(31),function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={data:[],intervalIsSet:!1},e.getDataFromDb=function(){fetch(\"https://listen-together-api.herokuapp.com/Groups/getData\").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})})).then(console.log(e.state.data))},e.handleGroup=function(){e.state.data.map((function(e){return e.groupName})).includes(e.props.group)?e.props.isOwner?Object(I.confirmAlert)({title:\"Group Already Exists\",message:\"Enter a name that is not already taken.\",buttons:[{label:\"OK\"}]}):(e.props.setOwnerToken(e.state.data.find((function(t){return t.groupName===e.props.group})).ownerToken),e.props.history.push(\"/group\")):e.props.isOwner?R.a.ajax({url:\"https://listen-together-api.herokuapp.com/Groups/putData\",type:\"POST\",data:JSON.stringify({groupName:e.props.group,ownerName:e.props.username,ownerToken:e.props.token}),contentType:\"application/json; charset=UTF-8\",success:function(){console.log(\"New Group Made: \"+e.props.group),e.props.setOwnerToken(e.props.token),e.props.history.push(\"/group\")},error:function(){Object(I.confirmAlert)({title:\"Error Creating Group \".concat(e.props.group),message:\"Try Again\",buttons:[{label:\"OK\"}]})}}):Object(I.confirmAlert)({title:\"Group Does Not Exist\",message:\"Make sure you spelled the name of the group correctly.\",buttons:[{label:\"OK\"}]})},e.handleInput=function(t){e.props.setGroup(t.target.value)},e}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var e=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:e})}}},{key:\"componentWillUnmount\",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"Create\"},n.a.createElement(\"header\",{className:\"Create-header\"},n.a.createElement(\"img\",{src:j.a,className:\"Create-logo\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Create-p\"},this.props.isOwner?\"Create Group Name\":\"Enter Group Name\"),n.a.createElement(\"form\",{className:\"Create-form\"},n.a.createElement(\"input\",{className:\"input\",type:\"text\",placeholder:\"Enter Name Here\",onChange:this.handleInput})),n.a.createElement(\"br\",null),n.a.createElement(\"button\",{className:\"Create-startBtn\",onClick:this.handleGroup.bind(this)},this.props.isOwner?\"Start Group\":\"Join Group\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\"))))}}]),a}(r.Component)),_=Object(i.b)((function(e){return{group:e.userReducer.group,token:e.userReducer.token,username:e.userReducer.username,isOwner:e.userReducer.isOwner,ownerToken:e.userReducer.ownerToken}}),(function(e){return Object(c.b)({setGroup:O,setOwnerToken:G},e)}))(D),U=function(e){return function(t){t({type:\"SET_LOADED\",payload:e})}},H=(a(51),a(18)),A=a.n(H),x=a(19),P=a.n(x),B=(a(52),a(37)),K=a.n(B),W=function(e){var t={backgroundImage:\"url(\".concat(e.item.album.images[0].url,\")\")};return\"\"!==e.uri?n.a.createElement(\"div\",{className:\"App\"},n.a.createElement(\"div\",{className:\"main-wrapper\"},n.a.createElement(\"div\",{className:\"now-playing__img\"},n.a.createElement(\"img\",{src:e.item.album.images[0].url,alt:\"\"})),n.a.createElement(\"div\",{className:\"background\",style:t}),\" \")):n.a.createElement(\"div\",{className:\"App\"},n.a.createElement(\"div\",{className:\"main-wrapper\"},n.a.createElement(\"p\",{className:\"instructions\"},\"Press    \",n.a.createElement(\"img\",{src:K.a,className:\"device\",alt:\"device\"}),'  , Then select \"Listen Together\" to play music.'),n.a.createElement(\"div\",{className:\"background\",style:t}),\" \"))},M=a(26),F=a.n(M),J=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={data:[],intervalIsSet:!1,ownerToken:\"\",item:{album:{images:[{url:\"\"}]},name:\"\",artists:[{name:\"\"}],duration_ms:0},userUri:[],ownerPlaying:[],uri:\"\",sync:!1,position:0},e.getDataFromDb=function(){fetch(\"https://listen-together-api.herokuapp.com/Groups/getData\").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})}))},e}return Object(g.a)(a,[{key:\"componentDidMount\",value:function(){var e=this;if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}if(this.state.data.length>0){var a=this.state.data.find((function(t){return t.group===e.props.group}));this.setState({ownerToken:a.ownerToken}),this.getCurrentlyPlaying(this.state.ownerToken)}window.onbeforeunload=function(){return this.onUnload(),\"\"}.bind(this),this.props.hasLoaded(!0)}},{key:\"componentWillUnmount\",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null})),this.props.hasLoaded(!1)}},{key:\"componentDidUpdate\",value:function(){this.props.isOwner||0===this.state.ownerPlaying.length||(console.log(\"CUR URI: \"+this.state.userUri[0]),0===this.state.userUri.length?this.getURI(this.props.token):this.state.userUri[0]!==this.state.uri&&this.state.sync&&this.SyncSongs(this.props.token))}},{key:\"displayOwner\",value:function(){var e=this;return this.state.data.find((function(t){return t.group===e.props.group})).ownerName}},{key:\"SyncSongs\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player/play\",type:\"PUT\",data:JSON.stringify({uris:this.state.ownerPlaying,position_ms:this.state.position}),beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(){t.getURI(t.props.token),t.setState({sync:!1}),console.log(\"Songs Synced\")}})}},{key:\"getURI\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(e){\"undefined\"!==typeof e&&((null===e||void 0===e?void 0:e.item)?t.setState({userUri:[e.item.uri]}):t.setState({userUri:[\"Not Playing\"]}))}})}},{key:\"getCurrentlyPlaying\",value:function(e){var t=this;R.a.ajax({url:\"https://api.spotify.com/v1/me/player\",type:\"GET\",beforeSend:function(t){t.setRequestHeader(\"Authorization\",\"Bearer \"+e)},success:function(e){if(\"undefined\"!==typeof e){var a=[e.item.uri];e.item.uri!==t.state.uri&&t.setState({item:e.item,uri:e.item.uri,ownerPlaying:a,sync:!0,position:e.progress_ms})}else t.props.isOwner||Object(I.confirmAlert)({title:\"No Music Playing\",message:\"The group leader needs to start playing music to begin.\",buttons:[{label:\"OK\"}]})}})}},{key:\"render\",value:function(){return this.props.isLoaded?this.props.isLoaded&&0===this.state.data.length?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:A.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:P.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Group-curGroup\"},\"Loading...\"),n.a.createElement(\"div\",{className:\"loader\"}),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):this.props.isLoaded&&!this.props.username?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:A.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:P.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"h3\",{className:\"Group-loadError\"},\"Something Went Wrong\"),n.a.createElement(\"a\",{className:\"Group-tryAgain\",href:\"\".concat(b,\"?client_id=\").concat(E,\"&redirect_uri=\").concat(\"http://localhost:3000\",\"&scope=\").concat(v.join(\"%20\"),\"&response_type=token&show_dialog=true\")},\"Try Again\"))):this.props.isOwner?this.props.isOwner?n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:A.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:P.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"p\",{className:\"Group-curGroup\"},\"Current Group: \"+this.props.group),this.getCurrentlyPlaying(this.props.token),n.a.createElement(\"div\",{className:\"Group-player\"},n.a.createElement(W,{item:this.state.item,uri:this.state.uri}),n.a.createElement(\"br\",null),n.a.createElement(\"br\",null),n.a.createElement(F.a,{styles:{loaderColor:\"#1db954\",sliderColor:\"#1db954\"},autoPlay:!0,play:!0,showSaveIcon:!0,token:this.props.token,name:\"Listen Together\"}),\";\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):void 0:n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:A.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:P.a,className:\"Group-logoRight\",alt:\"logo\"}),this.getCurrentlyPlaying(this.props.ownerToken),n.a.createElement(\"div\",{className:\"Group-player\"},console.log(this.state.uri),n.a.createElement(W,{item:this.state.item,uri:this.state.uri}),n.a.createElement(\"br\",null),n.a.createElement(\"br\",null),n.a.createElement(F.a,{styles:{loaderColor:\"#1db954\",sliderColor:\"#1db954\"},autoPlay:!0,play:!0,showSaveIcon:!0,token:this.props.token,name:\"Listen Together\"}),\";\"),n.a.createElement(\"p\",{className:\"Home-p\"},\"Created By Kyle Litton. \",n.a.createElement(\"a\",{className:\"Home-credit\",href:\"https://github.com/jkl1999/ListenTogether\"},\"View Source\")))):n.a.createElement(\"div\",{className:\"Group\"},n.a.createElement(\"header\",{className:\"Group-header\"},n.a.createElement(\"h1\",{className:\"Group-title\"},\"Listen Together\"),n.a.createElement(\"img\",{src:A.a,className:\"Group-logoLeft\",alt:\"logo\"}),n.a.createElement(\"img\",{src:P.a,className:\"Group-logoRight\",alt:\"logo\"}),n.a.createElement(\"div\",{className:\"loader\"})))}}]),a}(r.Component),z=Object(i.b)((function(e){return{isLoaded:e.uiReducer.isLoaded,group:e.userReducer.group,token:e.userReducer.token,username:e.userReducer.username,isOwner:e.userReducer.isOwner,ownerToken:e.userReducer.ownerToken}}),(function(e){return Object(c.b)({hasLoaded:U},e)}))(J),V=function(){return n.a.createElement(m.a,null,n.a.createElement(\"div\",null,n.a.createElement(h.c,null,n.a.createElement(h.a,{path:\"/\",component:C,exact:!0}),n.a.createElement(h.a,{path:\"/start\",component:_}),n.a.createElement(h.a,{path:\"/group\",component:z}))))};a(89);var q=function(){return n.a.createElement(V,null)};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(i.a,{store:Object(c.d)(p,Object(c.a)(l.a))},n.a.createElement(q,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);","extractedComments":[]}